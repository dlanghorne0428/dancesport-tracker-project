{% extends "rankings/base.html" %}

{% block content %}
<section class="section">
  <container class="container has-text-centered">
    <h2 class="subtitle">Couples</h2>
    {{ error }}
  </container>
  <div class="columns is-centered">
  <div class="column is-narrow">
  <table class="table is-bordered">
    <tr>
      <th>Dancer 1</th>
      <th></th>
      <th>Dancer 2</th>
      <th>Category</th>
    </tr>

    {% for couple in page_obj %}
    <tr>

      <td>{{ couple.dancer_1 }}</td>
      <td>and</td>
      <td>{{ couple.dancer_2 }}</td>
      <td><a href="{% url 'viewcouple' couple.id %}"">{{ couple.get_couple_type_display }}</a></td>
    </tr>
    {% endfor %}
  </table>
  </div>
  </div>
</<section>


<section class="section">
  <container class="container">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
      {% if page_obj.has_previous %}
          <a class="pagination-previous" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}
      <ul class="pagination-list">
        {% if page_obj.has_previous %}
          <li><a class="pagination-link" href="?page=1" aria-label="Goto page 1">1</a></li>
          <li><span class="pagination-ellipsis">&hellip;</span></li>
          <l1><a class="pagination-link" href="?page={{ page_obj.previous_page_number }}">{{ page_obj.previous_page_number }}</a></l1>
        {% endif %}
        <li><a class="pagination-link is-current" aria-label="Current page" aria-current="page">{{ page_obj.number }}</a></li>
        {% if page_obj.has_next %}
          <l1><a class="pagination-link" href="?page={{ page_obj.next_page_number }}">{{ page_obj.next_page_number }}</a></l1>
          <li><span class="pagination-ellipsis">&hellip;</span></li>
          <li><a class="pagination-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Goto last page">{{ page_obj.paginator.num_pages }}</a></li>
        {% endif %}
      </ul>
      {% if page_obj.has_next %}
          <a class="pagination-next" href="?page={{ page_obj.next_page_number }}">Next</a>
      {% endif %}
    </nav>
  </container>
</<section>

<section class="section">
  <container class="container has-text-centered">
    <form method="GET" action="{% url 'createcouple' %}">
      {% csrf_token %}
      <button type="submit" class="button is-primary is-rounded">Add Couple</button>
    </form>
  </container>
</section>

{% endblock %}
